# My Anime Report
## Description
My Anime Report is an app that allows you to track the anime you’ve watched with a simple interface and view comprehensive trend reports based on your watch history. Find your next favorite anime with a match feature – swipe right to accept and add to your backlog, or swipe left to reject – no need to scroll through an overwhelming list!

## Motivation
I watch lots of anime, but I don't use an app to track them because existing apps such as MyAniList are overly complicated (unintuitive with too many status categories). I also like viewing a report based on my watch history with nice charts and graphs. Currently I'm tracking my list with a Google spreadsheet, set up my own [report auto-generation](https://datastudio.google.com/u/1/reporting/b8f66745-45ca-4ebf-90a9-8c8d24f05eff/page/sR1cB) with Data Studio, and I want to transfer this idea to an app. In addition, I hope to have an AI recommendation feature.

## App Evaluation
- **Category:** Utilities
- **Mobile:** Mobile-first experience, especially for the swipe gesture
- **Story:** Users track the animes they've watched in a card-based layout, view autogenerated trend reports, and find new anime matches.
- **Market:** Anyone who watches anime could enjoy this app.
- **Habit:** Users can form a habit to track the animes they've watched. The match feature (rather than a discover feature) could help them find their next favorite anime without reading about too many animes that do not suit their interests. Even though the UI/UX is designed for simplicity, the autogenerated trend reports are comprehensive and insightful!
- **Scope:** V1 allows the user track what they've watched, view their trend report, and be matched with new animes. V2 could allow them to share their report to social media and follow other users. The scope is currently limited to the anime industry, but can be adapted to other categories like dramas, TV shows, or even music.

## Product Spec

### 1. User Stories (Required and Optional)

**Required Must-have Stories**
* User can create a new account
* User can login and logout
* User can create a list of entries in a card-based layout
    * An entry consists of the anime's title, when the user watched it, the user's rating, and an optional reflective note
* User's list is stored in a database
* User can navigate between tabs
* When adding/editing an entry, user can search for an anime in a search bar
* When user clicks an entry, it expands (animated) and shows its full information
* User can view their trend report with informational charts and graphs
    * The report includes an overview, their top-5, breakdown by genre/demographic/time, and fun insights (ex. character A in anime B share the same voice actor as character C in anime D)
* User can be matched with new animes based on their watch history
* User can swipe right or left to accept or reject an anime
* Accepted animes are added to the user's backlog
* User can view their backlog
* User can edit their backlog

**Optional Nice-to-have Stories**
* User can edit and delete an entry
* User can double tap to favorite an anime
* Favorited animes appear towards the top of their list
* User can share their trend report to social media
* User can followand unfollow another user
* User can see other user's profiles
* An entry's background color is the anime poster's primary color


### 2. Screen Archetypes

* Login Screen
    * User can login
* Registration Screen
    * User can create a new account
* Home Screen (Tab 1)
    * User can view their entries in a card-based layout
* Entry Screen
    * User can create an entry
    * User can edit or delete an entry (optional)
* Report Screen (Tab 2)
    * User can view their trend report
* Match Screen (Tab 3)
    * User can be matched with new animes based on their watch history
    * User can swipe right or left to accept or reject an anime
    * Accepted animes are added to the user's backlog
* Backlog Screen (Tab 4)
    * User can view and edit their backlog

### 3. Navigation

**Tab Navigation** (Tab to Screen)

* Home
* Report
* Match
* Backlog

**Flow Navigation** (Screen to Screen)

* Login Screen
=> Home
* Registration Screen
=> Home
* Home Screen
=> Entry screen
=> Anime details
* Entry Screen
=> Home (when you finish creating/editing/deleting)
* Report Screen
=> None, but future version can involve navigation to a screen to share report to social media.
* Match Screen
=> None
* Backlog Screen
=> None

## Wireframes
### Sketched
![](https://i.imgur.com/BRQWIFS.jpg)



### Digital
![](https://i.imgur.com/AztPV8e.png)
![](https://i.imgur.com/yHrEyxN.png)
![](https://i.imgur.com/z2BMnqk.png)
![](https://i.imgur.com/jUDlf9D.png)
![](https://i.imgur.com/GbkXh4v.png)


### Interactive Prototype

## Schema 
### Models
Anime (a Media object from the [AniList API](https://anilist.co/graphiql))
| Property    | Type            | Description                                                    |
| ----------- | --------------- | -------------------------------------------------------------- |
| mediaId     | Integer         | Unique id for the anime in the AniList database                |
| title       | String          | The official English title of the anime                        |
| description | String          | Short description of the media's story and characters          |
| averageScore| Double          | A weighted average score of all the user's scores of the media |
| seasonYear  | Integer         | The season year the media was initially released in            |
| coverImage  | String          | URL of the cover image of the media                            |
| bannerImage | String          | URL of the banner image of the media                           |
| trailer     | String          | Id of the media's Youtube trailer                              |
| genres      | List\<String\>  | List of genres of the media                                    |

Entry (Parse model)
| Property    | Type    | Description                                    |
| ----------- | ------- | ---------------------------------------------- |
| objectId    | String  | Unique id for the entry (default field)        |
| createdAt	  | Date    | Date when entry is created (default field)     |
| updatedAt	  | Date    | Date when entry is last updated (default field)|
| user        | Pointer | Pointer to the ParseUser who created the entry |
| mediaId     | Number  | The AniList mediaId of the anime watched       |
| monthWatched| Number  | The month when the user watched the anime      |
| yearWatched | Number  | The year when the user watched the anime       |
| rating      | Number  | The user's rating of the anime (out of 10)     |
| note        | String  | An optinal reflective note on the anime        |

BacklogItem (Parse model)
| Property    | Type    | Description                                    |
| ----------- | ------- | ---------------------------------------------- |
| objectId    | String  | Unique id for the entry (default field)        |
| createdAt	  | Date    | Date when entry is created (default field)     |
| updatedAt	  | Date    | Date when entry is last updated (default field)|
| user        | Pointer | Pointer to the ParseUser who created the item  |
| mediaId     | Number  | The AniList mediaId of the anime in the backlog|

### Networking
Reference
| CRUD    | HTTP Verb | Example                          |
| ------- | --------- | -------------------------------- |
| Create  | POST      |	Creating a new post              |
| Read    | GET	      | Fetching posts for a user's feed |
| Update  | PUT	      | Changing a user's profile image  |
| Delete  | DELETE	  | Deleting a comment               |

#### Network Requests by Screen
Home Screen
* **Parse**: (Read/GET) Query all entries made by the current user
* **Parse**: (Delete) Delete existing entry
* **AniList**: (Read/GET) Query info about an anime the user has watched

Create Entry Screen
* **Parse**: (Create/POST) Create a new entry object
* **AniList**: (Read/GET) Search anime via text

Report Screen
* **Parse**: (Read/GET) Query all entries made by the current user
* **AniList**: (Read/GET) Query info about an anime the user has watched

Match Screen
* **AniList**: (Read/GET) Query a bunch of animes

Backlog Screen
* **Parse**: (Read/GET) Query all the backlog items of the current user
* **Parse**: (Delete) Delete existing backlog item
* **AniList**: (Read/GET) Query info about an anime in the backlog

#### Basic snippets for each Parse network request
```
// (Read/GET) Query all entries made by the current user
ParseQuery<Entry> query = ParseQuery.getQuery(Entry.class); // specify type of data
query.setLimit(20); // limit query to 20 items (implement pagination for more items)
query.whereEqualTo(Post.KEY_USER, user); // limit entries to current user's
query.addDescendingOrder("createdAt"); // order entries by creation date
query.findInBackground((entries, e) -> { // start async query for entries
    // Check for errors
    if (e != null) {
        Log.e(TAG, "Issue with getting entries", e);
        return;
    }
    // Do something with the list of entries
});
```
```
// (Delete) Delete existing entry
entry.deleteInBackground(e -> {
    // Check for errors
    if (e != null) {
        Log.e(TAG, "Issue with deleting entry", e);
        return;
    }
    // Do something after the entry is deleted
});
```
```
// (Create/POST) Create a new entry object
Entry entry = new Entry(user, mediaId, monthWatched, yearWatched, rating, note);
entry.saveInBackground(e -> {
    // Check for errors
    if (e != null) {
        Log.e(TAG, "Error while saving entry", e);
        return;
    }
    // Do something after the entry is created
});
```
```
// (Read/GET) Query all the backlog items of the current user
ParseQuery<BacklogItem> query = ParseQuery.getQuery(BacklogItem.class); // specify type of data
query.setLimit(20); // limit query to 20 items (implement pagination for more items)
query.whereEqualTo(Post.KEY_USER, user); // limit entries to current user's
query.addDescendingOrder("createdAt"); // order entries by creation date
query.findInBackground((items, e) -> { // start async query for entries
    // Check for errors
    if (e != null) {
        Log.e(TAG, "Issue with getting backlog items", e);
        return;
    }
    // Do something with the list of backlog items
});
```
```
// (Delete) Delete existing backlog item
item.deleteInBackground(e -> {
    // Check for errors
    if (e != null) {
        Log.e(TAG, "Issue with deleting backlog item", e);
        return;
    }
    // Do something after the backlog item is deleted
});
```

#### Network Requests for Existing APIs
[AniList API](https://anilist.gitbook.io/anilist-apiv2-docs/overview/resources-and-recommended-reading)
Base URL - https://graphql.anilist.co
| HTTP Verb | Endpoint and Query Parameters                                   | Description           |
| --------- | --------------------------------------------------------------- | --------------------- |
| GET       | Media (type: ANIME, sort: TITLE_ENGLISH)                        | get a list of animes  |
| GET       | Media (type: ANIME, search: {searchQuery}, sort: SEARCH_MATCH)  | search animes by title|
| GET       | Media (type: ANIME, id: {mediaId})                              | search anime by id    |
